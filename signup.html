<!DOCTYPE html>
<html>
<?php
$secret_key = "6LdC-TUlAAAAANl5YxnhTcMPkiZkqSeSGy_jy2nw";
$response = $_POST["g-recaptcha-response"];
$remote_ip = $_SERVER["REMOTE_ADDR"];

$url = "https://www.google.com/recaptcha/api/siteverify";
$data = array(
	"secret" => $secret_key,
	"response" => $response,
	"remoteip" => $remote_ip
);

$options = array(
	"http" => array(
		"method" => "POST",
		"content" => http_build_query($data),
		"header" => "Content-Type: application/x-www-form-urlencoded\r\n"
	)
);

$context = stream_context_create($options);
$result = file_get_contents($url, false, $context);
$json = json_decode($result);

if ($json->success) {
	// reCAPTCHA validation passed, process form data
	$name = $_POST["name"];
	$email = $_POST["email"];
	$password = $_POST["password"];

	// do something with the form data, e.g. store in database
} else {
	// reCAPTCHA validation failed, show error message
	echo "reCAPTCHA validation failed!";
}
?>
<head>
	<title>Sign Up Form with reCAPTCHA</title>
	<style type="text/css">
		form {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 50px;
		}

		label {
			font-weight: bold;
			margin-bottom: 10px;
		}

		input[type="text"], input[type="email"], input[type="password"] {
			padding: 10px;
			margin-bottom: 20px;
			border: none;
			border-radius: 5px;
			box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
			width: 300px;
		}

		button[type="submit"] {
			padding: 10px 20px;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 16px;
		}
	</style>
</head>
<body>
	<h1>Sign Up Form</h1>
	<form action="process.php" method="post">
		<label for="name">Name:</label>
		<input type="text" name="name" required>
		<label for="email">Email:</label>
		<input type="email" name="email" required>
		<label for="password">Password:</label>
		<input type="password" name="password" required>
		<div class="g-recaptcha" data-sitekey="6LdC-TUlAAAAAP0lagJifuu8xfYAQ4-m6Up_JdUv"></div>
		<button type="submit">Sign Up</button>
	</form>

	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
</body>
</html>
